# 1、查看mysql连接线程列表
show full processlist;

# 等价查看关系
select * from information_schema.PROCESSLIST;

-- 按照客户端IP分组，看哪个客户端的连接数最多
select client_ip, count(client_ip) as client_num
from (select substring_index(host, ':', 1) as client_ip
      from `information_schema`.processlist) as connect_info
group by client_ip
order by client_num desc;

-- 查看正在执行的线程，并按 Time 倒排序，看看有没有执行时间特别长的线程
select *
from `information_schema`.processlist
where Command != 'Sleep'
order by Time desc;

-- 找出所有执行时间超过 5 分钟的线程，拼凑出 kill 语句，方便后面查杀
select concat('kill ', id, ';')
from `information_schema`.processlist
where Command != 'Sleep'
      and Time > 300
order by Time desc;

# 2、查看MySQL整体的运行情况
show status;

# 3、查看MySQL的各种变量
show variables;

# 4、查看当前库的表和视图的一些信息
show table status;

# 5、查看表的索引相关信息
show index from employees;

# 6、查看存储引擎相关的信息
show engine innodb status;